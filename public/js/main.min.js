/*! task 11-02-2016 */
function abrir_cargando(){"use strict";$('<div id="loading" class="progress"><div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">&nbsp;</div></div>').dialog({modal:!0}),$("#loading").find(".progress-bar").css("width","50%"),$("#loading").find(".progress-bar").css("width","100%")}function cerrar_cargando(){"use strict";$("#loading").remove()}function resize(){"use strict";var a=$(window).height();$("body").css("height",a),$(".container").css("height",a)}function notificar(a){"use strict";if("granted"===Notification.permission){"undefined"==typeof a.title&&(a.title=""),"undefined"==typeof a.message&&(a.message=""),"undefined"!=typeof a.status&&(a.message+="["+a.status+"]"),"undefined"!=typeof a.user_name&&(a.message+=" - ["+a.user_name+"]");var b=new Notification(a.title,{icon:"http://cdn.sstatic.net/stackexchange/img/logos/so/so-icon.png",body:a.message});"undefined"!=typeof a.link&&(b.onclick=function(){window.open(a.link)}),setTimeout(function(){b.close()},4e3)}}function count_task_in_project(a,b){"use strict";var c=$('.project[value="'+b+'"]').parent().find("span.badge");0>a&&(a=0),c.html(parseInt(a)),"0"!==a?(c.removeClass("closed"),c.addClass("openned")):(c.removeClass("openned"),c.addClass("closed"))}function change_status_task(a,b){"use strict";var c=$(".tasks_list").find('li[value="'+a+'"]'),d=$('.project[value="'+project_selected_id+'"]').parent().find("span.badge"),e=d.html();switch(b){case"Abierto":c.removeClass("background_done"),c.find("a.show_status").removeClass("glyphicon-ok-circle"),$(".detail_task .show_status").removeClass("glyphicon-ok-circle"),c.removeClass("background_started"),c.find("a.show_status").removeClass("glyphicon-play-circle"),$(".detail_task .show_status").removeClass("glyphicon-play-circle"),c.addClass("background_openned"),c.find("a.show_status").addClass("glyphicon-record"),$(".detail_task .show_status").addClass("glyphicon-record"),e=parseInt(e)+1,count_task_in_project(e,project_selected_id);break;case"Terminado":c.hasClass("background_openned")&&(e=parseInt(e)-1,count_task_in_project(e,project_selected_id)),c.removeClass("background_openned"),c.find("a.show_status").removeClass("glyphicon-record"),$(".detail_task .show_status").removeClass("glyphicon-record"),c.removeClass("background_started"),c.find("a.show_status").removeClass("glyphicon-play-circle"),$(".detail_task .show_status").removeClass("glyphicon-play-circle"),c.addClass("background_done"),c.find("a.show_status").addClass("glyphicon-ok-circle"),$(".detail_task .show_status").addClass("glyphicon-ok-circle");break;case"Empezado":c.hasClass("background_openned")&&(e=parseInt(e)-1,count_task_in_project(e,project_selected_id)),c.removeClass("background_openned"),c.find("a.show_status").removeClass("glyphicon-record"),$(".detail_task .show_status").removeClass("glyphicon-record"),c.removeClass("background_done"),c.find("a.show_status").removeClass("glyphicon-ok-circle"),$(".detail_task .show_status").removeClass("glyphicon-ok-circle"),c.addClass("background_started"),c.find("a.show_status").addClass("glyphicon-play-circle"),$(".detail_task .show_status").addClass("glyphicon-play-circle")}return c.find("a.show_status").attr("value",b),c}$(document).ready(function(){"use strict";$("#sidebar a").tooltip({tooltipClass:"container-tooltip"}),resize(),$(".title_my_projects").click(function(a){a.preventDefault(),$(".projects_list").toggle(300)})}),$(window).resize(function(){"use strict";resize()}),Date.prototype.getWeek=function(a){"use strict";a=a||0;var b=new Date(Date(this.setHours(0,0,0,0))),c=b.getDay()-a,d=b.getDate()-c,e=new Date(Date(b.setDate(d))),f=new Date(Date(b.setDate(d+6)));return[e,f]};var meses=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dias=["Dom","Mar","Mie","Jue","Vie","Sab","Lun"];